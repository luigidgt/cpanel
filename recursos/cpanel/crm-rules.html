<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>
    <title>FlexIdx | Welcome</title>
    <meta name="keywords" content="FlexIdx, listing, Filters, Analytics">
    <meta name="description" content="FlexIdx, the best dashboard admin listing, Filters, Analytics">
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/richtext.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i" rel="stylesheet">
    <link id="page_favicon" type="image/x-icon" rel="icon" href="../../img/favicon.png">
  </head>
  <body>
    <div class="rs-wrapper">
      <header class="rs-navbar">
        <h1>Flexidx Cutting-Edge MLS/IDX Search for Wordpress</h1>
        <nav>
          <div class="logo">
            <a href="#" title="Flexidx">
            <img src="https://www.idxboost.com/bundles/website/images/logo.png" title="Flexidx" alt="Cutting-Edge MLS/IDX Search for Wordpress">
            </a>
          </div>
          <div class="header-nav">
            
            <div class="user_nav" style="margin-left: auto">
              <a href="javascript:void(0)" title="Harold Gracía" id="user-avatar">
                <span class="gb">4</span>
                <div class="user_avatar">
                  <img src="http://www.viewsonyou.com/img/avatar/Avatar4.png">
                </div>
                <h2>Harold Gracía</h2>
                <span>GARY HENNES REALTORS</span>
              </a>
              <ul id="userList">
                <li><a href="#" title="Leads">Notificatons <span class="gb">4</span></a></li>
                <li><a href="#" title="Leads">Leads</a></li>
                <li><a href="#" title="Filters">Filters</a></li>
                <li><a href="#" title="Listings">Listings</a></li>
                <li><a href="#" title="Account Setup">Account Setup</a></li>
                <li><a href="#" title="Analytics">Analytics</a></li>
                <li><a href="#" title="Log out">Log out</a></li>
              </ul>
            </div>
            <div class="search_nav">
              <button id="help" class="btn-help">Help</button>
              <button id="serch" class="btn-serach">Search</button>
            </div>
          </div>
          <button class="main_menu" id=mainMene>Main Menu <span></span></button>
          <button class="sub_menu" id="subMenu">Sub Menu <span></span></button>
        </nav>
      </header>

      <aside class="rs-sidebar">
        <div class="title-rs-sidebar">Main menu</div>
        <button id="closeMenu">Close</button>
        <ul>
          <li><a href="#" title="My Leads" class="item_nav ico-leads active">My Leads <span class="gb">19</span></a></li>
          <li>
            <a href="javascript:void(0)" title="Account" class="item_nav ico-account sub-items">My Account</a>
            <ul class="sub_item_nav">
              <li><a href="#" title="Registration Key">Registration Key</a></li>
              <li><a href="#" title="My Account">My Account</a></li>
              <li><a href="#" title="Change Password">Change Password</a></li>
              <li><a href="#" title="Billing Information">Billing Information</a></li>
              <li><a href="#" title="MLS Setup">MLS Setup</a></li>
            </ul>
          </li>
          <li>
            <a href="javascript:void(0)" title="IDX Settings" class="item_nav ico-setting sub-items">IDX Settings</a>
            <ul class="sub_item_nav">
              <li><a href="#" title="Advanced Settings">Advanced Settings</a></li>
              <li><a href="#" title="Quick Search Settings">Quick Search Settings</a></li>
            </ul>
          </li>
          <li><a href="javascript:void(0)" title="My Listings" class="item_nav ico-listing">My Listings</a></li>
          <li><a href="javascript:void(0)" title="Filters" class="item_nav ico-marketing">Filters</a></li>
          <li>
            <a href="#" title="Buildings" class="item_nav ico-buildings sub-items">Buildings</a>
            <ul class="sub_item_nav">
              <li><a href="#" title="My Buildings">My Buildings</a></li>
              <li><a href="#" title="My Buildings Groups">My Buildings Groups</a></li>
            </ul>
          </li>
          <li><a href="#" title="IDX Analytics" class="item_nav ico-analytics">IDX Analytics</a></li>
        </ul>
      </aside>

      <div class="rs-content-wrapper">
        <div class="rs-content ms-new-basic-form">
          <div class="rs-content-body">
            
            <div class="ms-wrap-rules">

              <div class="ms-header">
                <h2 class="ms-title ms-rocket">Rules</h2>
                <div class="ms-wrap-btn">
                  <a href="#" class="btn btn-dgt-grs"><span>Cancel</span></a>
                  <a class="btn btn-dgt-def"><span>Save</span></a>
                </div>
              </div>

              <form class="ms-body ms-rule-list">
                <ul class="ms-timeline-steps ms-wrap-rule">
                  <li class="ms-flex" id="initItem">
                    <span class="ms-bubble-idxb">Rule</span>
                    <a class="ms-link" id="ms-add-ruelers">+ Add Another Ruler</a>
                  </li>
                  <li id="rule-1">
                    <span class="ms-step">1</span>
                    <div class="ms-wrap-drip ms-body-rule">
                      <a class="ms-delete" data-rule="rule-1">Delete Rule</a>
                      <div class="ms-body-header">
                        <span>Leads who meet</span>
                        <div class="ms-item">
                          <select class="ms-select" id="rl-1">
                            <option value="0">All</option>
                            <option value="1">Lorem ipsum</option>
                            <option value="2">Lorem ipsum</option>
                            <option value="3">Lorem ipsum</option>
                          </select>
                        </div>
                        <span>of these conditions:</span>
                      </div>
                      <ul class="ms-rule-conditions" id="rulecondition-1"></ul>
                      <div class="ms-wrap-btn">
                        <a class="ms-link ms-add-item" data-id="1">+ Add Condition</a>
                      </div>
                      <ul class="ms-rule-agent">
                        <li class="ms-wrap-item">
                          <label>Agent</label>
                          <select class="ms-select" id="ag-a-1">
                            <option value="0">Lorem Ipsum</option>
                            <option value="1">Lorem Ipsum</option>
                            <option value="2">Lorem Ipsum</option>
                            <option value="3">Lorem Ipsum</option>
                            <option value="4">Lorem Ipsum</option>
                            <option value="5">Lorem Ipsum</option>
                            <option value="6">Lorem Ipsum</option>
                          </select>
                        </li>
                        <li class="ms-wrap-item" id="ag-b-1">
                          <label>Lender</label>
                          <select class="ms-select">
                            <option value="0">Lorem Ipsum</option>
                            <option value="1">Lorem Ipsum</option>
                            <option value="2">Lorem Ipsum</option>
                            <option value="3">Lorem Ipsum</option>
                            <option value="4">Lorem Ipsum</option>
                            <option value="5">Lorem Ipsum</option>
                            <option value="6">Lorem Ipsum</option>
                          </select>
                        </li>
                        <li class="ms-wrap-item">
                          <label>Action Plan</label>
                          <select class="ms-select" id="ag-c-1">
                            <option value="0">Lorem Ipsum</option>
                            <option value="1">Lorem Ipsum</option>
                            <option value="2">Lorem Ipsum</option>
                            <option value="3">Lorem Ipsum</option>
                            <option value="4">Lorem Ipsum</option>
                            <option value="5">Lorem Ipsum</option>
                            <option value="6">Lorem Ipsum</option>
                          </select>
                        </li>
                        <li class="ms-wrap-item">
                          <p>55 leads <i class="ms-aq"></i> Las lead <a>Ahmed Khattab</a> (an hour ago)</p>
                        </li>
                      </ul>
                    </div>
                  </li>
                  <li><span class="ms-bubble-idxb">Finish</span></li>
                </ul>
                <div class="ms-wrap-btn">
                  <a href="#" class="btn btn-dgt-grs"><span>Cancel</span></a>
                  <button class="btn btn-dgt-def"><span>Save</span></button>
                </div>
              </form>

            </div>

          </div>
        </div>
      </div>
    </div>
    <div id="rs-screen-overlay"></div>
    <script type="text/javascript" src="../../js/jquery-3.1.1.min.js"></script>
    <script type="text/javascript" src="../../js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../js/select2.min.js"></script>
    <script type="text/javascript" src="../../js/main.js"></script>
    <script type="text/javascript" src="../../js/jquery.richtext.min.js"></script>
    <script type="text/javascript" src="../../js/bootstrap-tagsinput.min.js"></script>
    <script type="text/javascript" src="../../js/typeahead.js"></script>

    <script type="text/javascript">

      /** AGREGAR NUEVA REGLA **/
      var countRuler = 1;
      jQuery(document).on('click','#ms-add-ruelers', function(){
        countRuler += 1;
        var rulerList = jQuery("#initItem");

        var newRuler = 
        '<li id="rule-'+countRuler+'">'+
        '<span class="ms-step">'+countRuler+'</span>'+
        '<div class="ms-wrap-drip ms-body-rule">'+
        '<a class="ms-delete" data-rule="rule-'+countRuler+'">Delete Rule</a>'+
        '<div class="ms-body-header">'+
        '<span>Leads who meet</span>'+
        '<div class="ms-item">'+
        '<select class="ms-select" id="rl-'+countRuler+'" data-placeholder="Select Item">'+
        '<option value="0">All</option>'+
        '<option value="1">Lorem ipsum</option>'+
        '<option value="2">Lorem ipsum</option>'+
        '<option value="3">Lorem ipsum</option>'+
        '</select>'+
        '</div>'+
        '<span>of these conditions:</span>'+
        '</div>'+
        '<ul class="ms-rule-conditions" id="rulecondition-'+countRuler+'"></ul>'+
        '<div class="ms-wrap-btn">'+
        '<a class="ms-link ms-add-item" data-id="'+countRuler+'">+ Add Condition</a>'+
        '</div>'+

        '<ul class="ms-rule-agent">'+
        '<li class="ms-wrap-item">'+
        '<label>Agent</label>'+
        '<select class="ms-select" id="ag-a-'+countRuler+'">'+
        '<option value="0">Lorem Ipsum</option>'+
        '<option value="1">Lorem Ipsum</option>'+
        '<option value="2">Lorem Ipsum</option>'+
        '<option value="3">Lorem Ipsum</option>'+
        '<option value="4">Lorem Ipsum</option>'+
        '<option value="5">Lorem Ipsum</option>'+
        '<option value="6">Lorem Ipsum</option>'+
        '</select>'+
        '</li>'+
        '<li class="ms-wrap-item">'+
        '<label>Lender</label>'+
        '<select class="ms-select" id="ag-b-'+countRuler+'">'+
        '<option value="0">Lorem Ipsum</option>'+
        '<option value="1">Lorem Ipsum</option>'+
        '<option value="2">Lorem Ipsum</option>'+
        '<option value="3">Lorem Ipsum</option>'+
        '<option value="4">Lorem Ipsum</option>'+
        '<option value="5">Lorem Ipsum</option>'+
        '<option value="6">Lorem Ipsum</option>'+
        '</select>'+
        '</li>'+
        '<li class="ms-wrap-item">'+
        '<label>Action Plan</label>'+
        '<select class="ms-select" id="ag-c-'+countRuler+'">'+
        '<option value="0">Lorem Ipsum</option>'+
        '<option value="1">Lorem Ipsum</option>'+
        '<option value="2">Lorem Ipsum</option>'+
        '<option value="3">Lorem Ipsum</option>'+
        '<option value="4">Lorem Ipsum</option>'+
        '<option value="5">Lorem Ipsum</option>'+
        '<option value="6">Lorem Ipsum</option>'+
        '</select>'+
        '</li>'+
        '<li class="ms-wrap-item">'+
        '<p>55 leads <i class="ms-aq"></i> Las lead <a>Ahmed Khattab</a> (an hour ago)</p>'+
        '</li>'+
        '</ul>'+
        '</div>'+
        '</li>';

        rulerList.after(newRuler);
        jQuery(".ms-timeline-steps >li").find(".ms-select").each(function() {
          if(!jQuery(this).hasClass('generate')){
            var selectId = jQuery(this).attr('id');
            var selectPlaceholder = jQuery(this).attr('data-placeholder');
            createSelect(selectId, selectPlaceholder);
            jQuery(this).addClass('generate');
          }
        });
      });

      /** AGREGAR NUEVO ITEM DE REGLA **/
      jQuery(document).on('click','.ms-add-item', function(){
        var idItem = jQuery(this).attr('data-id');
        generateItemRule(idItem);
      });

      function createSelect(element, placeholder){
        jQuery("#"+element).select2({
          placeholder: placeholder,
        });
      }

      function generateItemRule(count){
        var parent = jQuery("#rulecondition-"+count);
        var parentItems = parent.find(">li");
        var rdCode = Math.random().toString(36).substring(7);

        var newItem = '<li id="item-'+rdCode+'">'+
        '<div class="ms-wrap-item ms-sl">'+
        '<select class="ms-select" data-placeholder="Select Item" id="ms-a-'+rdCode+'">'+
        '<option value="0">Lorem ipsum</option>'+
        '<option value="1">Lorem ipsum</option>'+
        '<option value="2">Lorem ipsum</option>'+
        '<option value="3">Lorem ipsum</option>'+
        '</select>'+
        '</div>'+
        '<div class="ms-wrap-item ms-sl">'+
        '<select class="ms-select" data-placeholder="Select Item" id="ms-b-'+rdCode+'">'+
        '<option value="0">Lorem ipsum</option>'+
        '<option value="1">Lorem ipsum</option>'+
        '<option value="2">Lorem ipsum</option>'+
        '<option value="3">Lorem ipsum</option>'+
        '</select>'+
        '</div>'+
        '<div class="ms-wrap-item ms-tg">'+
        '<select class="ms-select" multiple="multiple" data-placeholder="Select Item" id="ms-c-'+rdCode+'">'+
        '<option value="0">Lorem ipsum</option>'+
        '<option value="1">Lorem ipsum</option>'+
        '<option value="2">Lorem ipsum</option>'+
        '<option value="3">Lorem ipsum</option>'+
        '</select>'+
        '</div>'+
        '<div class="ms-wrap-item ms-bt">'+
        '<a class="ms-button ms-icon-delete" data-delete="item-'+rdCode+'">'+
        '<span>Delete</span>'+
        '</a>'+
        '</div>'+
        '</li>';

        parent.append(newItem);

        parent.find(".ms-select").each(function() {
          if(!jQuery(this).hasClass('generate')){
            var selectId = jQuery(this).attr('id');
            var selectPlaceholder = jQuery(this).attr('data-placeholder');
            createSelect(selectId, selectPlaceholder);
            jQuery(this).addClass('generate');
          }
        });
      }

    </script>
  </body>
</html>